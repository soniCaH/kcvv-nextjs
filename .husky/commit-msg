# Run commitlint and capture the exit code
npx --no -- commitlint --edit ${1}
COMMITLINT_EXIT_CODE=$?

# If commitlint failed, show helpful examples
if [ $COMMITLINT_EXIT_CODE -ne 0 ]; then
  echo ""
  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
  echo "ğŸ“ COMMIT MESSAGE FORMAT"
  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
  echo ""
  echo "Format:  type(scope): subject"
  echo ""
  echo "Examples:"
  echo "  âœ… feat(news): add article detail page"
  echo "  âœ… fix(sponsors): resolve logo alignment issue"
  echo "  âœ… docs(readme): update setup instructions"
  echo "  âœ… test(sponsors): add visual regression tests"
  echo "  âœ… migrate(teams): convert teams page to Next.js"
  echo ""
  echo "Types:"
  echo "  feat fix docs style refactor perf test build ci chore revert migrate"
  echo ""
  echo "Scopes:"
  echo "  news matches teams players sponsors calendar ranking api ui schema"
  echo "  migration config deps"
  echo ""
  echo "Rules:"
  echo "  â€¢ Use lowercase"
  echo "  â€¢ Subject in imperative mood (\"add\" not \"added\")"
  echo "  â€¢ No period at the end"
  echo "  â€¢ Keep subject under 72 characters"
  echo ""
  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
  echo ""
fi

exit $COMMITLINT_EXIT_CODE
