# Dependabot configuration for automatic dependency updates
# https://docs.github.com/code-security/dependabot/dependabot-version-updates/configuration-options-for-the-dependabot.yml-file

version: 2
updates:
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
    open-pull-requests-limit: 10

    # Group related packages together to keep them in sync
    groups:
      # React packages must stay in sync - CRITICAL!
      react:
        patterns:
          - "react"
          - "react-dom"
          - "@types/react"
          - "@types/react-dom"

      # Next.js and related packages
      nextjs:
        patterns:
          - "next"
          - "eslint-config-next"

      # Storybook packages
      storybook:
        patterns:
          - "storybook"
          - "@storybook/*"
          - "@chromatic-com/storybook"
          - "eslint-plugin-storybook"

      # Testing libraries
      testing:
        patterns:
          - "@testing-library/*"
          - "vitest"
          - "@vitest/*"
          - "happy-dom"

      # Radix UI components
      radix:
        patterns:
          - "@radix-ui/*"

      # ESLint and related
      eslint:
        patterns:
          - "eslint"
          - "eslint-*"
          - "@typescript-eslint/*"

      # Tailwind CSS
      tailwind:
        patterns:
          - "tailwindcss"
          - "@tailwindcss/*"

    # Ignore specific packages or versions if needed
    ignore:
      # TypeScript dev version - only update manually
      - dependency-name: "typescript"
        update-types:
          [
            "version-update:semver-major",
            "version-update:semver-minor",
            "version-update:semver-patch",
          ]

      # @types/node version must match Node.js version in .nvmrc (24.x)
      # When updating .nvmrc, manually update @types/node to match
      - dependency-name: "@types/node"
        update-types: ["version-update:semver-major"]
